<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />

    <script>
      navigator.serviceWorker?.register('/firebase-messaging-sw.js');
    </script>
  </head>

  <body>
    <div id="user-info" style="margin-bottom: 10px; font-weight: bold;"></div>

    <!-- AUTH SECTION -->
    <div id="auth-section" class="card">
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Парола" />
      <button id="loginBtn">Вход</button>
      <button id="registerBtn">Регистрация</button>
    </div>

    <!-- TODO SECTION -->
    <div id="todo-section" style="display: none">
      <button id="logoutBtn" style="background: #dc3545; margin-bottom: 20px">
        Изход
      </button>

      <!-- ADD TODO -->
      <div class="card">
        <textarea id="newTodo" placeholder="Напиши нова задача..."></textarea>

        <!-- CATEGORY SELECTOR FOR ADDING -->
        <div id="addCategoryBar" class="category-scroll">
          <button data-cat="Хранителни стоки" class="cat-btn active">
            🛒 Хранителни
          </button>
          <button data-cat="Здраве" class="cat-btn">🏥 Здраве</button>
          <button data-cat="Дом" class="cat-btn">🏠 Дом</button>
          <button data-cat="Ремонт" class="cat-btn">🛠️ Ремонт</button>
          <button data-cat="Работа" class="cat-btn">💼 Работа</button>
          <button data-cat="Друго" class="cat-btn">📦 Друго</button>
        </div>

        <button id="addTodoBtn">Добави</button>
      </div>

      <!-- FILTER BAR -->
      <h3>Филтър по категория</h3>
      <div id="filterBar" class="category-scroll">
        <button data-cat="all" class="cat-btn active">Всички</button>
        <button data-cat="Хранителни стоки" class="cat-btn">
          🛒 Хранителни
        </button>
        <button data-cat="Здраве" class="cat-btn">🏥 Здраве</button>
        <button data-cat="Дом" class="cat-btn">🏠 Дом</button>
        <button data-cat="Ремонт" class="cat-btn">🛠️ Ремонт</button>
        <button data-cat="Работа" class="cat-btn">💼 Работа</button>
        <button data-cat="Друго" class="cat-btn">📦 Друго</button>
      </div>

      <h3>Всички задачи</h3>
      <div id="todo-list"></div>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
