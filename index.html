<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css">
    <script> navigator.serviceWorker.register('/firebase-messaging-sw.js'); </script>
  </head>

  <body>
    <div id="user-info" style="margin-bottom: 10px; font-weight: bold;"></div>

    <!-- LOGIN / REGISTER -->
    <div id="auth-section" class="card">
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Парола" />
      <button id="loginBtn">Вход</button>
      <button id="registerBtn">Регистрация</button>
    </div>

    <!-- MAIN APP -->
    <div id="todo-section" style="display: none">
      <button id="logoutBtn" style="background: #dc3545; margin-bottom: 20px">
        Изход
      </button>

      <!-- FAMILY SECTION -->
      <div id="familySection" class="card">

        <!-- NOT JOINED -->
        <div id="familyNotJoined">
          <h3>Семейна група</h3>

          <input id="familyNameInput" type="text" placeholder="Име на семейството">

          <button id="createFamilyBtn">Създай семейство</button>

          <input id="joinFamilyInput" type="text" placeholder="Въведи семеен код">
          <button id="joinFamilyBtn">Присъедини се</button>
        </div>

        <!-- JOINED -->
        <div id="familyJoined" style="display:none;">
          <h3>Твоето семейство</h3>
          <p>Име: <b id="familyName"></b></p>
          <p>Семеен код: <b id="familyCode"></b></p>
        </div>

      </div>

      <!-- ADD TODO -->
      <div class="card">
        <textarea id="newTodo" placeholder="Напиши нова задача..."></textarea>

        <select id="category">
          <option value="Хранителни стоки">Хранителни стоки</option>
          <option value="Здраве">Здраве</option>
          <option value="Дом">Дом</option>
          <option value="Ремонт">Ремонт</option>
          <option value="Работа">Работа</option>
          <option value="Друго">Друго</option>
        </select>

        <button id="addTodoBtn">Добави</button>
      </div>

      <!-- FILTER -->
      <h3>Филтър по категория</h3>
      <select id="filterCategory">
        <option value="all">Всички</option>
        <option value="Хранителни стоки">Хранителни стоки</option>
        <option value="Здраве">Здраве</option>
        <option value="Дом">Дом</option>
        <option value="Ремонт">Ремонт</option>
        <option value="Работа">Работа</option>
        <option value="Друго">Друго</option>
      </select>

      <!-- TODO LIST -->
      <h3>Всички задачи</h3>
      <div id="todo-list"></div>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
